{"remainingRequest":"C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Benji\\projects\\lab5-create\\src\\components\\Uploader.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Benji\\projects\\lab5-create\\src\\components\\Uploader.vue","mtime":1555559393375},{"path":"C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  name: 'Uploader',\r\n  props: {\r\n    show: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      title: '',\r\n      file: null,\r\n      error: '',\r\n    }\r\n  },\r\n  async created() {\r\n    this.changeQuote();\r\n  },\r\n  computed:{\r\n    description(){\r\n      return this.$store.state.description;\r\n    }\r\n  },\r\n  methods: {\r\n  fileChanged(event) {\r\n    this.file = event.target.files[0]\r\n  },\r\n  async changeQuote(){\r\n    this.$store.dispatch(\"changeQuote\");\r\n  },\r\n  close() {\r\n    this.$emit('escape');\r\n    this.changeQuote();\r\n  },\r\n     async upload() {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append('photo', this.file, this.file.name);\r\n        formData.append('title', this.title);\r\n        formData.append('description', this.description);\r\n        this.error = await this.$store.dispatch(\"upload\", formData);\r\n        if (!this.error) {\r\n          this.title = '';\r\n          this.file = null;\r\n          this.$emit('uploadFinished');\r\n        }\r\n        this.changeQuote();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n     }\r\n  }\r\n}\r\n",{"version":3,"sources":["Uploader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Uploader.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<transition v-if=\"show\" name=\"modal\">\r\n  <div class=\"modal-mask\">\r\n    <div class=\"modal-wrapper\">\r\n      <div class=\"modal-container\">\r\n        <div class=\"modal-header\">\r\n          <h1 class=\"modal-title\">Upload</h1>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p v-if=\"error\" class=\"error\">{{error}}</p>\r\n          <form @submit.prevent=\"upload\">\r\n            <input v-model=\"title\" placeholder=\"Person's name\">\r\n            <p></p>\r\n            <textarea v-model=\"description\" placeholder=\"Description\"></textarea>\r\n            <p></p>\r\n            <input type=\"file\" name=\"photo\" @change=\"fileChanged\">\r\n            <p></p>\r\n            <button type=\"button\" @click=\"close\" class=\"pure-button\">Close</button>\r\n            <button type=\"submit\" class=\"pure-button pure-button-secondary\">Upload</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Uploader',\r\n  props: {\r\n    show: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      title: '',\r\n      file: null,\r\n      error: '',\r\n    }\r\n  },\r\n  async created() {\r\n    this.changeQuote();\r\n  },\r\n  computed:{\r\n    description(){\r\n      return this.$store.state.description;\r\n    }\r\n  },\r\n  methods: {\r\n  fileChanged(event) {\r\n    this.file = event.target.files[0]\r\n  },\r\n  async changeQuote(){\r\n    this.$store.dispatch(\"changeQuote\");\r\n  },\r\n  close() {\r\n    this.$emit('escape');\r\n    this.changeQuote();\r\n  },\r\n     async upload() {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append('photo', this.file, this.file.name);\r\n        formData.append('title', this.title);\r\n        formData.append('description', this.description);\r\n        this.error = await this.$store.dispatch(\"upload\", formData);\r\n        if (!this.error) {\r\n          this.title = '';\r\n          this.file = null;\r\n          this.$emit('uploadFinished');\r\n        }\r\n        this.changeQuote();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n     }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ninput {\r\n  width: 100%;\r\n}\r\n\r\ntextarea {\r\n  width: 100%;\r\n  height: 100px\r\n}\r\n\r\n.pure-button-secondary {\r\n  float: right;\r\n}\r\n</style>"]}]}