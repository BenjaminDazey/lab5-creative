{"remainingRequest":"C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Benji\\projects\\lab5-create\\src\\views\\Photo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Benji\\projects\\lab5-create\\src\\views\\Photo.vue","mtime":1555559852934},{"path":"C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Benji\\projects\\lab5-create\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Benji\\\\projects\\\\lab5-create\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Date$now from \"C:\\\\Users\\\\Benji\\\\projects\\\\lab5-create\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/date/now\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from 'moment'; // @ is an alias to /src\n\nimport ImageGallery from '@/components/ImageGallery.vue';\nexport default {\n  name: 'photo',\n  components: {\n    ImageGallery: ImageGallery\n  },\n  data: function data() {\n    return {\n      commented: ''\n    };\n  },\n  computed: {\n    photos: function photos() {\n      return this.$store.state.photos;\n    }\n  },\n  methods: {\n    formatDate: function formatDate(date) {\n      if (moment(date).diff(_Date$now(), 'days') < 15) return moment(date).fromNow();else return moment(date).format('d MMMM YYYY');\n    },\n    sendComment: function () {\n      var _sendComment = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var idf;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                idf = this.photos[0]._id;\n                _context.next = 3;\n                return this.$store.dispatch(\"editQuote\", {\n                  description: this.commented,\n                  id: idf\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function sendComment() {\n        return _sendComment.apply(this, arguments);\n      }\n\n      return sendComment;\n    }(),\n    deleteQuote: function () {\n      var _deleteQuote = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var idf;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                idf = this.photos[0]._id;\n                _context2.next = 3;\n                return this.$store.dispatch(\"deleteOnePhoto\", idf);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function deleteQuote() {\n        return _deleteQuote.apply(this, arguments);\n      }\n\n      return deleteQuote;\n    }()\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$store.dispatch(\"getOnePhoto\", this.$route.params.id);\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["Photo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,OAAA,MAAA,MAAA,QAAA,C,CACA;;AACA,OAAA,YAAA,MAAA,+BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AADA,KAAA;AAGA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA;AACA;AAHA,GAVA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,IADA,EACA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,WAAA,EAAA,MAAA,IAAA,EAAA,EACA,OAAA,MAAA,CAAA,IAAA,CAAA,CAAA,OAAA,EAAA,CADA,KAGA,OAAA,MAAA,CAAA,IAAA,CAAA,CAAA,MAAA,CAAA,aAAA,CAAA;AACA,KANA;AAOA,IAAA,WAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,gBAAA,GARA,GAQA,KAAA,MAAA,CAAA,CAAA,EAAA,GARA;AAAA;AAAA,uBASA,KAAA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA;AAAA,kBAAA,WAAA,EAAA,KAAA,SAAA;AAAA,kBAAA,EAAA,EAAA;AAAA,iBAAA,CATA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAWA,IAAA,WAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA,gBAAA,GAZA,GAYA,KAAA,MAAA,CAAA,CAAA,EAAA,GAZA;AAAA;AAAA,uBAaA,KAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA,GAAA,CAbA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAfA;AAgCA,EAAA,OAhCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAiCA,KAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAjCA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAA","sourcesContent":["<template>\r\n<div class=\"home\">\r\n  <div>\r\n    <div class=\"image\" v-for=\"photo in photos\" v-bind:key=\"photo._id\">\r\n       <router-link :to=\"{ name: 'photo', params: { id: photo._id }}\"><img :src=\"photo.path\" /></router-link>\r\n       <p class=\"photoTitle\">{{photo.title}}</p>\r\n          <p class=\"photoDate\">\r\n             <span v-if=\"photo.user.name\">{{photo.user.name}}, </span>\r\n             {{formatDate(photo.created)}}\r\n          </p>\r\n       <p>{{photo.description}}</p>\r\n       <div class=\"comments\" v-for=\"comment in photo.comments\">\r\n       {{comment.comment}}\r\n       </div>\r\n        <form @submit.prevent=\"sendComment\">\r\n            <input v-model=\"commented\" placeholder=\"edit quote here\">\r\n            <p></p>\r\n            <button type=\"submit\" class=\"pure-button pure-button-secondary\">Edit Quote</button>\r\n          </form>\r\n          <form @submit.prevent=\"deleteQuote\">\r\n            <button type=\"submit\" class=\"pure-button pure-button-secondary\">Delete Quote</button>\r\n          </form>\r\n  </div>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment';\r\n// @ is an alias to /src\r\nimport ImageGallery from '@/components/ImageGallery.vue'\r\n\r\nexport default {\r\n  name: 'photo',\r\n  components: {\r\n    ImageGallery\r\n  },\r\n  data() {\r\n    return{\r\n      commented: '',\r\n    }\r\n  },\r\n  computed: {\r\n    photos() {\r\n      return this.$store.state.photos;\r\n    },\r\n  },\r\n  methods:{\r\nformatDate(date) {\r\n      if (moment(date).diff(Date.now(), 'days') < 15)\r\n        return moment(date).fromNow();\r\n      else\r\n        return moment(date).format('d MMMM YYYY');\r\n    },\r\n    async sendComment(){\r\n      let idf = this.photos[0]._id;\r\n      await this.$store.dispatch(\"editQuote\", {description:this.commented, id:idf});\r\n    },\r\n    async deleteQuote(){\r\n      let idf = this.photos[0]._id;\r\n      await this.$store.dispatch(\"deleteOnePhoto\", idf);\r\n\r\n    }\r\n  },\r\n  async created() {\r\n    await this.$store.dispatch(\"getOnePhoto\", this.$route.params.id);\r\n  \r\n  },\r\n}\r\n</script>\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.photoTitle {\r\n  margin: 0px;\r\n  font-size: 1.2em;\r\n}\r\n\r\n.photoDate {\r\n  margin: 0px;\r\n  font-size: 0.9em;\r\n  font-weight: normal;\r\n}\r\n\r\np {\r\n  margin: 0px;\r\n}\r\n\r\n.image {\r\n  margin: 0 0 1.5em;\r\n  display: inline-block;\r\n  width: 100%;\r\n}\r\n\r\n.image img {\r\n  max-width: 600px;\r\n  max-height: 600px;\r\n  image-orientation: from-image;\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}